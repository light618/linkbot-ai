# æœ¬åœ°æµ‹è¯•çŠ¶æ€

## âœ… æœåŠ¡å·²å¯åŠ¨

### å¯åŠ¨ä¿¡æ¯
- **è¿›ç¨‹ID**: 24631
- **ç«¯å£**: 8080
- **çŠ¶æ€**: healthy
- **è¿è¡Œæ—¶é•¿**: 8ç§’

### ç¯å¢ƒå˜é‡
```
DOUYIN_APP_ID=aw6hj204nms0vumu
DOUYIN_APP_SECRET=b46cd587e094aae751e45380f9c0e72d
REDIRECT_URI=http://localhost:8080/oauth/callback
```

## ğŸ”§ æ¥å£æµ‹è¯•

### 1. å¥åº·æ£€æŸ¥ âœ…
```bash
curl http://localhost:8080/health

# å“åº”
{
  "status": "healthy",
  "timestamp": "2025-10-27T13:02:43.291236+08:00",
  "version": "1.0.0",
  "uptime": 8
}
```

### 2. OAuth æˆæƒURL âœ…
```bash
curl -I http://localhost:8080/oauth/douyin

# å“åº”
HTTP/1.1 302 Found
Location: https://open.douyin.com/platform/oauth/connect/?client_key=aw6hj204nms0vumu&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Foauth%2Fcallback&response_type=code&scope=user_info%2Cvideo.list%2Cvideo.comment&state=state_xxx
```

**æˆæƒURLå‚æ•°**ï¼š
- client_key: aw6hj204nms0vumu
- redirect_uri: http://localhost:8080/oauth/callback
- response_type: code
- scope: user_info,video.list,video.comment

## âš ï¸ å½“å‰é™åˆ¶

### å›è°ƒåœ°å€é—®é¢˜
```
redirect_uri=http://localhost:8080/oauth/callback
```
- âŒ æŠ–éŸ³æœåŠ¡å™¨æ— æ³•è®¿é—® localhost
- âŒ éœ€è¦å…¬ç½‘å¯è®¿é—®çš„åœ°å€
- â³ å¾…é…ç½® ngrok æˆ–éƒ¨ç½²åˆ°äº‘æœåŠ¡å™¨

## ğŸ¯ å¯ä»¥æµ‹è¯•çš„å†…å®¹

### 1. æ¨¡æ‹Ÿæˆæƒå›è°ƒ
```bash
# æ¨¡æ‹Ÿè´­ä¹°äº†æˆæƒåçš„å›è°ƒ
curl "http://localhost:8080/oauth/callback?code=test_code&state=test_state"

# åº”è¯¥è¿”å›é”™è¯¯ï¼ˆå› ä¸ºcodeæ˜¯å‡çš„ï¼‰
```

### 2. æµ‹è¯•å¯åŠ¨æ¸ é“æ¥å£
```bash
# éœ€è¦å…ˆæœ‰æˆæƒçš„ access_token
curl -X POST http://localhost:8080/api/channel/douyin/start \
  -d "open_id=test_open_id" \
  -d "room_id=123456789"

# åº”è¯¥è¿”å›é”™è¯¯ï¼ˆå› ä¸ºæœªæˆæƒï¼‰
```

## ğŸ“‹ ä¸‹ä¸€æ­¥

### æ–¹æ¡ˆAï¼šæ¨¡æ‹Ÿæµ‹è¯•
1. æ¨¡æ‹Ÿæˆæƒå›è°ƒï¼Œæµ‹è¯•tokenæ¢å–é€»è¾‘
2. æ¨¡æ‹Ÿè®¿é—®æˆåŠŸï¼Œæµ‹è¯•å¯åŠ¨æ¸ é“æ¥å£
3. éªŒè¯ä»£ç é€»è¾‘æ­£ç¡®æ€§

### æ–¹æ¡ˆBï¼šçœŸå®æˆæƒæµ‹è¯•
1. é…ç½® ngrok è·å–å…¬ç½‘åœ°å€
2. åœ¨æŠ–éŸ³å¼€æ”¾å¹³å°é…ç½®å›è°ƒåœ°å€
3. çœŸå®æ‰«ç æˆæƒæµ‹è¯•

## ğŸ’¡ å»ºè®®

ä¸»å…¬ï¼Œç°åœ¨æˆ‘ä»¬å¯ä»¥ï¼š

1. **å…ˆæ¨¡æ‹Ÿæµ‹è¯•** - éªŒè¯ä»£ç é€»è¾‘
2. **é…ç½®å…¬ç½‘åœ°å€** - ä»Šæ™šæˆ–æ˜å¤©é…ç½® ngrok
3. **çœŸå®æˆæƒæµ‹è¯•** - éªŒè¯å®Œæ•´æµç¨‹

### ç«‹å³å¯ä»¥åšçš„
- âœ… æµ‹è¯•å„ä¸ªAPIæ¥å£çš„å“åº”
- âœ… éªŒè¯é”™è¯¯å¤„ç†é€»è¾‘
- âœ… æ£€æŸ¥æ—¥å¿—è¾“å‡º

---

**çŠ¶æ€**ï¼šâœ… æœåŠ¡æ­£å¸¸è¿è¡Œ  
**ä¸‹ä¸€æ­¥**ï¼šæ¨¡æ‹Ÿæµ‹è¯•æˆ–é…ç½®å…¬ç½‘åœ°å€
